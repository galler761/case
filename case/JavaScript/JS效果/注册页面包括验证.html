<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>注册页面</title>
		<style>
			*{ margin: 0; padding: 0;}
			#imgs{ position: absolute; width: 150px; height: 150px; top: 15px; right: 0px;}
			.style1{ width: 25%; background: rgba(255, 156, 108, 0.5);}
			.style2{ width: 25%; background: rgba(255, 156, 108, 0.5);}
			.style3{ width: 25%; background: rgba(255, 156, 108, 0.5); color: yellow;}
			.style4{ width: 25%; background: rgba(255, 156, 108, 0.5);}

		</style>
		<script type="text/javascript">
			var st = "";
			var bol = false;

			function onChinName(form) {
				if(form.txName.value == "") {
					name1.innerHTML = "<font color=red>请输入用户名!</font>";
					bol = false;
				} else if(from1.txName.value.length > 6 || from1.txName.value.length < 3) {
					name1.innerHTML = "<font color=red>用户名应小于6位大于3位!</font>";
					bol = false;
				} else {
					name1.innerHTML = "<font color=#55f56b>输入正确</font>";
					bol = true;
				}
			}

			function onChinPawd1(form) {
				if(form.txPwd1.value == "") {
					pwd1.innerHTML = "<font color=red>请输入密码!</font>";
					bol = false;
				} else if(form.txPwd1.value.length > 12 || from1.txPwd1.value.length < 6) {
					pwd1.innerHTML = "<font color=red>密码应小于12位大于6位!</font>";
					bol = false;
				} else {
					pwd1.innerHTML = "<font color=#55f56b>输入正确</font>";
					bol = true;
				}
			}

			function onChinPawd2(form) {
				if(form.txPwd2.value == "") {
					pwd2.innerHTML = "<font color=red>请输入密码!</font>";
					bol = false;
				} else if(form.txPwd2.value.length > 12 || from1.txPwd1.value.length < 6) {
					pwd2.innerHTML = "<font color=red>密码应小于12位大于6位!</font>";
					bol = false;
				} else if(form.txPwd1.value != form.txPwd2.value) {
					pwd2.innerHTML = "<font color=red>注册密码与确认密码不符！</font>";
					bol = false;
				} else {
					pwd2.innerHTML = "<font color=#55f56b>输入正确</font>";
					bol = true;
				}
			}

			function onChinYou(form) {
				var str = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
				if(form.txYou.value == "") {
					you.innerHTML = "<font color=red>请输入邮箱地址!</font>";
					bol = false;
				} else if(str.test(form.txYou.value) != true) {
					you.innerHTML = "<font color=red>输入的邮箱不正确！</font>";
					bol = false;
				} else {
					you.innerHTML = "<font color=#55f56b>输入正确</font>";
					bol = true;
				}

			}

			function onChinShen(form) {
				var stre = /^\d{17}[\d|X]|^\d{15}$/;
				if(form.txShen.value == "") {
					shen.innerHTML = "<font color=red>请输入身份证!</font>";
					bol = false;
				} else if(stre.test(form.txShen.value) != true) {
					shen.innerHTML = "<font color=red>输入的身份证不正确！</font>";
					bol = false;
				} else {
					shen.innerHTML = "<font color=#55f56b>输入正确</font>";
					bol = true;
				}
			}

			function onChinYan(form) {
				var result = "";
				for(i = 0; i < 4; i++) {
					result = result + (parseInt(Math.random() * 10)).toString();
				}
				yanzhen.innerHTML = "<font color=#000>" + result + "</font>";
				st = result;
			}

			function onChinYanz(form) {
				if(form.txYan.value == "") {
					yanzhen1.innerHTML = "<font color=red>请输入验证码!</font>";
					bol = false;
				} else if(form.txYan.value != st) {
					yanzhen1.innerHTML = "<font color=red>输入的验证码不正确！</font>";
					bol = false;
				} else {
					yanzhen1.innerHTML = "<font color=#55f56b>输入正确</font>";
					bol = true;
				}
			}

			function onClickes(form) {
				if(bol) {
					var inner = form.txName.value.toString();
					var newWin = window.open("tz.html", "new");
					window.showModalDialog("tz.html", inner);

				} else {
					alert("输入有错误");
				}
			}
			//图片浮动
			function clockon() {
				var now = new Date();
				var year = now.getFullYear();
				var month = now.getMonth();
				var date = now.getDate();
				var day = now.getDay();
				var hour = now.getHours();
				var minu = now.getMinutes();
				var sec = now.getSeconds();
				var week;
				month = month + 1;
				if(month < 10) month = "0" + month;
				if(date < 10) date = "0" + date;
				if(hour < 10) hour = "0" + hour;
				if(minu < 10) minu = "0" + minu;
				if(sec < 10) sec = "0" + sec;
				var arr_week = new Array("星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六");
				week = arr_week[day];
				var time = "";
				time = year + "年" + month + "月" + date + "日 " + week + " " + hour + ":" + minu + ":" + sec;
				document.all.bgclock.innerHTML = "当前时间:[" + time + "]";
				var timer = setTimeout(clockon, 500);
			}

			window.onload = function() {
				var adimg = document.getElementById("imgs");
				var adtop = adimg.offsetTop;
				window.onscroll = function() {
					adimg.style.top = adtop + (document.documentElement.scrollTop || document.body.scrollTop) + "px";
				}
			}
		</script>
	</head>

	<body onLoad="clockon(bgclock)">
		<div id="imgs">
			<input border="0" type="image" id="im" src="img/tx.jpg" style=" width: 100%; height: 100%;" />
		</div>
		<table border="0" align="center" width="800" height="300" style="margin: 100px auto;">
			<form id="form1" name="from1" actiom="" method="post">
				<dr>
					<td colspan="4" align="center" style="height: 50px;background: rgba(153,217,234,0.5);">
						<div id="bgclock"></div>
					</td>
				</dr>
				<tr align="center">
					<td class="style1">用户名：</td>
					<td class="style2">
						<input type="text" id="txName" onBlur="javascript:onChinName(form1)" />
					</td>
					<td class="style3">
						<div id="name1">
							<font color="#999">请输入用户名</font>
						</div>
					</td>
					<td class="style4">&nbsp;</td>
				</tr>

				<tr align="center">
					<td class="style1">
						密码：
					</td>
					<td class="style2">
						<input type="password" id="txPwd1" onBlur="javascript:onChinPawd1(form1)" />
					</td>
					<td class="style3">
						<div id="pwd1">
							<font color="#999">请输入密码</font>
						</div>
					</td>
					<td class="style4">&nbsp;</td>
				</tr>

				<tr align="center">
					<td class="style1">
						重复密码：
					</td>
					<td class="style2">
						<input type="password" id="txPwd2" onBlur="javascript:onChinPawd2(form1)" />
					</td>
					<td class="style3">
						<div id="pwd2">
							<font color="#999"></font>
						</div>
					</td>
					<td class="style4">&nbsp;</td>
				</tr>

				<tr align="center">
					<td class="style1">
						邮箱：
					</td>
					<td class="style2">
						<input type="text" id="txYou" onBlur="javascript:onChinYou(form1)" />
					</td>
					<td class="style3">
						<div id="you">
							<font color="#999">请输入邮箱</font>
						</div>
					</td>
					<td class="style4">&nbsp;</td>
				</tr>

				<tr align="center">
					<td class="style1">
						身份证：
					</td>
					<td class="style2">
						<input type="text" id="txShen" onBlur="javascript:onChinShen(form1)" />
					</td>
					<td class="style3">
						<div id="shen">
							<font color="#999">请输入身份证</font>
						</div>
					</td>
					<td class="style4">&nbsp;</td>
				</tr>

				<tr align="center">
					<td class="style1">
						验证码
					</td>
					<td class="style2">
						<input type="text" id="txYan" onFocus="javascript:onChinYan(form1)" onBlur="javascript:onChinYanz(form1)" />
					</td>
					<td class="style3">
						<div id="yanzhen">
							<font></font>
						</div>
					</td>
					<td class="style4">
						<div id="yanzhen1">
							<font color="#999">请输入验证码</font>
						</div>
					</td>
				</tr>
				<tr align="center">
					<td colspan="4" style="background: rgba(255,156,108,0.5);">
						<input type="button" id="bnt" value="注册" onClick="onClickes(form1)" />
					</td>
				</tr>
			</form>
		</table>
	</body>
