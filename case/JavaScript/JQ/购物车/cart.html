<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>购物车</title>
<meta name="keywords"  content="KEYWORDS..." />
<meta name="description" content="DESCRIPTION..." />
<meta name="author" content="DeathGhost" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name='apple-touch-fullscreen' content='yes'>
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<meta name="format-detection" content="address=no">
<link rel="icon" href="images/icon/favicon.ico" type="image/x-icon">
<link rel="apple-touch-icon-precomposed" sizes="57x57" href="images/icon/apple-touch-icon-57x57-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="images/icon/apple-touch-icon-120x120-precomposed.png">
<link rel="apple-touch-icon-precomposed" sizes="196x196" href="images/icon/apple-touch-icon-196x196-precomposed.png">
<meta name="viewport" content="initial-scale=1, width=device-width, maximum-scale=1, user-scalable=no">
<link rel="stylesheet" type="text/css" href="style.css" />
<script src="js/jquery.js"></script>
<script scr="js/demo.js"></script>
<script>
$(document).ready(function(){
  //show or hide:delBtn	
  ChangePrice(1)
  $(".edit").toggle(function(){
	  $(this).parent().siblings("dd").find(".delBtn").fadeIn();
	  $(this).html("完成");
	  $(".numberWidget").show();
	  $(".priceArea").hide();
	  },function(){
	  $(this).parent().siblings("dd").find(".delBtn").fadeOut();
	  $(this).html("编辑");
	  $(".numberWidget").hide();
	  $(".priceArea").show();
	});
  //minus
  $(".minus").click(function(){
	  var currNum=$(this).siblings(".number");
	  if(currNum.val()<=1){
		  $(this).parents("dd").remove();
		  nullTips();
		  }else{
			  currNum.val(parseInt(currNum.val())-1);
              $('#goodNum')[0].childNodes[0].nodeValue = currNum.val();
              ChangePrice(currNum.val());
		  }
	  });
  //plus
  $(".plus").click(function(){
	  var currNum=$(this).siblings(".number");
	  currNum.val(parseInt(currNum.val())+1);
      $('#goodNum')[0].childNodes[0].nodeValue = currNum.val();
      ChangePrice(currNum.val());
	  });
  //delBtn
  $(".delBtn").click(function(){
	  $(this).parent().remove();
	  nullTips();
      ChangePrice()
	  });
  //isNull->tips
  function nullTips(){
	  if($(".cart dd").length==0){
		  var tipsCont="<mark style='display:block;background:none;text-align:center;color:grey;'>购物车为空！</mark>"
		  $(".cart").remove();
		  $("body").append(tipsCont);
		  }
	  }
  $(".qq").click(function(){
		if(this.checked){
			$("body :checkbox").attr("checked",true);
		}else{
			$("body :checkbox").attr("checked", false);
		}
	  });
  function ChangePrice(num){
    $('#goodPrice')[0].childNodes[0].nodeValue = num * 30.00
  }
});
</script>
<style type="text/css">
	.money{
		color: #6aab60;
		font-size: .35rem;
		margin-top:5px;
	}
</style>
</head>
<body>
<!--header-->
<header>
 <a href="javascript:history.go(-1);" class="iconfont backIcon">&#60;</a>
 <h1>购物车</h1>
</header>
<div style="height:1rem;"></div>
<dl class="cart">
 <dt>
  <label><input type="checkbox" class="qq"/>全选</label>
  <a class="edit">编辑</a>
 </dt>
 <dd>
  <input type="checkbox"/>
  <a href="product.html" class="goodsPic"><img src="upload/goods008.jpg"/></a>
  <div class="goodsInfor">
   <h2>
    <a href="product.html">新鲜小黄鱼特惠</a>
    <span id="goodNum">1</span>
   </h2>
   <div class="priceArea">
   <span>颜色</span>&nbsp;&nbsp;<span>尺码</span>
    <div class="money">￥30.00</div>
   </div>
   <div class="numberWidget">
    <input type="button" value="-" class="minus"/>
    <input type="text" value="1" disabled  class="number"/>
    <input type="button" value="+"  class="plus"/>
   </div>
  </div>
  <a class="delBtn">删除</a>
 </dd>
 
 <dd>
  <input type="checkbox"/>
  <a href="product.html" class="goodsPic"><img src="upload/goods008.jpg"/></a>
  <div class="goodsInfor">
   <h2>
    <a href="product.html">新鲜小黄鱼特惠</a>
    <span id="goodNum">1</span>
   </h2>
   <div class="priceArea">
   <span>颜色</span>&nbsp;&nbsp;<span>尺码</span>
    <div class="money">￥30.00</div>
   </div>
   <div class="numberWidget">
    <input type="button" value="-" class="minus"/>
    <input type="text" value="1" disabled  class="number"/>
    <input type="button" value="+"  class="plus"/>
   </div>
  </div>
  <a class="delBtn">删除</a>
 </dd>

</dl>
<!--bottom nav-->
<div style="height:1rem;"></div>
<aside class="btmNav">
 <a id="priceTotal">￥<span id="goodPrice">0</span>.00</a>
 <a href="confirm_order.html" style="background:#64ab5b;color:white;text-shadow:none;">立即下单</a>
</aside>
</body>
</html>
