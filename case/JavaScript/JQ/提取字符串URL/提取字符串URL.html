<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Title</title>
</head>
<body>
<div id="urlText"></div>
<script src="jquery-1.8.3.min.js"></script>
<script>
	window.onload=function () {
		var str="dhahdjandkjawww.baidu.com11.aaaahttp://www.baidu.com.cnihihdhahdjandkjawww.baidu.com.cn11aaaawww.baidu.com.cnihihdhahdjandkjawww.baidu.comaaaahttps://www.baiasdfdu.cnihih";
		//接收字符串并提取返回url格式字符串数组
		var urlArr=[];
		var urlArr2=[];
		function getUrl(str) {               
			function getIndex(str) {
				var a1=(str.indexOf("www")==-1?1000000000000:str.indexOf("www"));
				var a2=(str.indexOf("http://")==-1?1000000000000:str.indexOf("http://"));
				var a3=(str.indexOf("https://")==-1?100000000000:str.indexOf("https://"));
				var b1=(str.indexOf(".com")==-1?1000000000000:str.indexOf(".com")+4);
				var b2=(str.indexOf(".com.cn")==-1?1000000000000:str.indexOf(".com.cn")+7);
				if(str.indexOf(".com")==str.indexOf(".com.cn")) b1=1000000000000;
				var b3=(str.indexOf(".cn")==-1?1000000000000:str.indexOf(".cn")+3);
				var a=Math.min(a1,a2,a3);
				var b=Math.min(b1,b2,b3);
			   if(a<1000000000000&&b<1000000000000){
				   var r=str.slice(a,b);
				   var r2=str.slice(0,a);
				   urlArr.push(r);
				   urlArr2.push(r2);						   
				   c=str.slice(b);
				   getIndex(c);
			   }else{
				   var r2=str.slice(0);
				   urlArr2.push(r2);	
				   }
			}
			return getIndex(str);				
		}
		getUrl(str);						
		var urlList=urlArr;
		var urlList2=urlArr2;
		for(var i=0; i<urlArr.length;i++){
		$("#urlText").append(urlArr2[i]+"<a href=\"" + urlArr[i] + "\">"+urlList[i]+"</a>")
		}
	};
	

</script>
</body>
</html>